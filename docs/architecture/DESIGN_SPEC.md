# 设计规范文档（Design Specification Document）

## 1. 设计概述
- **设计理念**：基于Bloomberg Terminal的专业金融界面设计，结合现代化用户体验，为量化交易系统提供高效、直观的操作界面
- **目标用户**：量化交易员、投资分析师、金融专业人士、算法交易开发者
- **设计原则**：信息密度优先、实时数据可视化、专业工具感、快速决策支持

## 2. 视觉设计规范

### 2.1 色彩系统
- **主色调**：
  - 深蓝色背景：#0f172a (主背景)
  - 次级背景：#1e293b (卡片、面板)
  - 边框色：#334155 (分割线、边框)
- **辅助色彩**：
  - 文字主色：#f8fafc (主要文字)
  - 文字辅色：#cbd5e1 (次要文字)
  - 文字描述：#64748b (描述性文字)
- **功能色彩**：
  - 成功/盈利：#10b981 (绿色)
  - 危险/亏损：#ef4444 (红色)
  - 警告：#f59e0b (橙色)
  - 信息：#3b82f6 (蓝色)
  - AI/科技：#8b5cf6 (紫色)

### 2.2 字体规范
- **标题字体**：Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif
  - H1: 32px, font-weight: 700
  - H2: 24px, font-weight: 600
  - H3: 20px, font-weight: 600
- **正文字体**：Inter, sans-serif
  - 正文：16px, font-weight: 400, line-height: 1.5
  - 小字：14px, font-weight: 400, line-height: 1.4
- **数据字体**：'JetBrains Mono', 'Fira Code', monospace
  - 数据显示：16px, font-weight: 500
  - 代码：14px, font-weight: 400

### 2.3 布局系统
- **栅格系统**：12列网格，最大宽度1440px，间距24px
- **间距规范**：
  - 基础单位：8px
  - 小间距：8px, 16px
  - 中等间距：24px, 32px
  - 大间距：48px, 64px
- **圆角规范**：
  - 小圆角：4px (按钮、输入框)
  - 中圆角：8px (卡片)
  - 大圆角：12px (面板)
- **阴影系统**：
  - 轻阴影：0 1px 3px rgba(0, 0, 0, 0.12)
  - 中阴影：0 4px 6px rgba(0, 0, 0, 0.1)
  - 重阴影：0 10px 25px rgba(0, 0, 0, 0.15)

## 3. 交互设计规范

### 3.1 导航系统
- **主导航**：顶部固定导航栏，包含Logo、主要功能入口、用户状态
- **页面跳转**：平滑过渡动画，300ms缓动效果
- **面包屑**：显示当前位置层级，支持快速导航

### 3.2 交互反馈
- **按钮状态**：
  - 默认：背景#3b82f6, 文字#ffffff
  - 悬停：背景#2563eb, 轻微阴影
  - 点击：背景#1d4ed8, 向下1px
  - 禁用：背景#64748b, 文字#94a3b8
- **表单交互**：
  - 输入框：边框#334155, 聚焦时#3b82f6
  - 错误状态：边框#ef4444, 文字#ef4444
  - 成功状态：边框#10b981, 文字#10b981
- **加载状态**：脉冲动画，颜色#8b5cf6
- **错误提示**：右上角Toast通知，红色背景

### 3.3 动效规范
- **过渡效果**：所有状态变化使用cubic-bezier(0.4, 0, 0.2, 1)
- **微交互**：按钮点击、悬停效果持续200ms
- **加载动画**：旋转loading，1s持续时间

## 4. 组件设计规范

### 4.1 基础组件
- **按钮组件**：
  - 主要按钮：蓝色背景，白色文字，32px高度
  - 次要按钮：透明背景，蓝色边框，蓝色文字
  - 危险按钮：红色背景，白色文字
- **输入组件**：
  - 文本框：深色背景#1e293b，边框#334155，高度40px
  - 下拉选择：与文本框一致样式，包含向下箭头图标
  - 搜索框：包含搜索图标，支持清除功能
- **展示组件**：
  - 卡片：背景#1e293b，圆角8px，轻阴影
  - 标签：小圆角4px，根据状态使用不同颜色
  - 徽章：圆形数字提示，红色背景

### 4.2 业务组件
- **页面头部**：
  - 高度64px，背景#0f172a
  - Logo左侧对齐，导航居中，用户信息右侧
  - 包含系统状态指示器
- **内容区域**：
  - 主要内容区域，背景#0f172a
  - 左侧边栏宽度280px，右侧内容区域自适应
- **页面底部**：
  - 固定底部，包含版权和快捷操作
  - 高度48px，背景#1e293b

## 5. 页面设计详细说明

| 页面名称 | 页面目标 | 布局结构 | 关键元素 | 交互逻辑 | 状态变化 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| 实时仪表盘 | 提供Bloomberg风格的实时市场监控 | 顶部导航+三栏布局(行情/策略/AI分析) | WebSocket实时数据流、4Hz刷新图表、策略状态网格 | 实时数据更新、策略卡片点击跳转、AI情绪分析展示 | 连接状态、数据刷新、异常告警 |
| AI因子发现实验室 | AI驱动的Alpha因子挖掘和验证 | 左侧控制面板+右侧结果展示区 | DeepSeek+Gemini双AI引擎、因子列表、统计图表 | 因子发现启动、进度可视化、结果筛选排序 | 挖掘进度、因子计算状态、统计验证结果 |
| 策略管理中心 | 策略全生命周期管理 | 策略列表+详情编辑区 | 策略CRUD操作、参数调整界面、性能监控图表 | 策略创建编辑、启停控制、参数实时调整 | 策略运行状态、性能指标、风险评估 |
| AI智能助手 | 自然语言交易分析对话 | 聊天界面布局 | 对话气泡、AI头像、快捷操作按钮 | 消息发送接收、语音输入、历史记录 | 消息状态、AI思考状态、连接状态 |
| 交易记录分析 | 历史交易和绩效分析 | 表格+图表组合视图 | 交易记录表、PnL图表、统计摘要 | 数据筛选、时间范围选择、详情查看 | 数据加载、筛选结果、图表更新 |
| 风控监控中心 | 实时风险监控和告警 | 仪表盘式布局 | 风险指标卡片、告警列表、风控图表 | 实时监控、告警确认、风险设置 | 风险等级、告警状态、系统状态 |
| 系统设置面板 | API配置和参数调整 | 标签页+表单布局 | 配置表单、API测试、参数验证 | 配置保存、连接测试、参数验证 | 配置状态、连接状态、验证结果 |

## 6. 响应式设计
- **断点设置**：
  - Mobile: 320px - 768px
  - Tablet: 768px - 1024px
  - Desktop: 1024px - 1440px
  - Large: 1440px+
- **布局适配**：
  - Mobile: 单栏布局，折叠导航
  - Tablet: 双栏布局，侧边栏可收起
  - Desktop: 三栏布局，完整功能展示
- **组件适配**：
  - 按钮：Mobile 44px高度，Desktop 32px
  - 表格：Mobile 横向滚动，Desktop 完整展示
  - 图表：自适应容器尺寸，保持比例

## 7. 开发交付说明
- **设计资产**：
  - 图标使用Heroicons或Lucide React
  - 图片使用Unsplash高质量金融主题图片
  - 图表使用Chart.js或ECharts实现
- **技术建议**：
  - HTML5 + CSS3 + 原生JavaScript
  - 使用CSS Grid和Flexbox布局
  - WebSocket实现实时数据连接
  - 本地存储管理用户配置
- **实现注意事项**：
  - 确保4Hz刷新率不影响性能
  - 实现暗色主题护眼效果
  - 支持键盘快捷键操作
  - 做好错误边界处理和降级方案
  - 移动端触摸友好的交互设计

## 8. FastAPI集成规范
- **API接口设计**：
  - RESTful API风格，使用标准HTTP状态码
  - WebSocket连接路径：`/ws/stream`
  - 认证使用Bearer Token或API Key
- **数据格式**：
  - 统一JSON响应格式：`{success: boolean, data: any, error?: string}`
  - 时间戳使用ISO 8601格式
  - 数值精度保持一致性
- **错误处理**：
  - 网络错误显示重连按钮
  - API错误显示具体错误信息
  - 超时处理和重试机制
- **性能优化**：
  - 数据懒加载和分页
  - 图表数据缓存策略
  - WebSocket连接池管理

## 9. 特殊效果和动画
- **实时数据效果**：
  - 数据更新时的闪烁高亮效果
  - 价格上涨绿色闪烁，下跌红色闪烁
  - 连接状态的呼吸灯效果
- **AI处理效果**：
  - AI思考时的脉冲动画
  - 因子发现进度的进度条动画
  - 策略生成的打字机效果
- **用户反馈效果**：
  - 成功操作的绿色勾选动画
  - 错误操作的红色摇晃动画
  - 重要告警的闪烁提醒效果

## 10. 可访问性设计
- **颜色对比度**：符合WCAG 2.1 AA标准
- **键盘导航**：支持Tab键导航，Enter键确认
- **屏幕阅读器**：合理的语义化标签和ARIA属性
- **字体大小**：支持浏览器字体缩放
- **焦点指示**：清晰的焦点边框样式

---

**设计规范版本**：v1.0  
**创建日期**：2025-01-27  
**设计师**：Designer Agent  
**适用产品**：个人AI量化交易系统